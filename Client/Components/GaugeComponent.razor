@page "/gauge"
@using Radzen
@using Radzen.Blazor

<!--SubEventCard Fight-->
<div class="container-fluid p-1">
    <!--
    <div class="card">
      <div class="card-body">
        <h1 align="center">Gauge</h1>

             
    <div align="center">
        <button onclick="" type="button" class="btn btn-primary btn-lg">
            Place New Bet
        </button>
      </div>
    </div>

      
    </div>
    -->

    <div class="card">

        <div class="container rounded-3">
            <div class="row align-items-start">
                <!--Header-->
                <div class="col text-center my-auto">
                    <h3>Isreal Adesanya</h3>
                </div>

                <!--Organzation-->
                <div class="col text-center my-auto">
                    <h5 class="d-inline">TotalBets</h5>               
                    <h5 class="d-inline"><span class="badge rounded-pill bg-secondary">TotalLockedValue</span></h5>
                </div>
                <!--
                <div class="col text-center my-auto">
                    <h1 class="d-inline">UFC</h1>               
                    <h1 class="d-inline"><span class="badge rounded-pill bg-secondary">271</span></h1>
                </div>
                -->
                    
                <div class="col text-center my-auto">
                    <h3>Robert Whittaker</h3>
                </div>

            </div>


            <div class="row align-items-middle">
                <!--Center-->

                <!--Profole Pic-->
                <div class="col d-flex justify-content-center">                
                      <img src="https://ssl.gstatic.com/onebox/media/sports/photos/ufc/3051_Yo9nIA_96x96.png" class="rounded-circle" alt="...">
                </div>

                <!--Gauge-->
                <div class="col">
                    <div class="text-center my-auto justify-content-center">
                        <RadzenArcGauge Style="width: 100%; height: 100%;">
                            <RadzenArcGaugeScale Step="20" MinorStep="2" Min="0" Max="100" Radius="1.5" TickPosition=@tickPosition Y="0.9" Margin="0" Fill="rgb(249, 32, 99)">
                                <RadzenArcGaugeScaleValue Value=@oddsValue ShowValue=@showValue Fill="rgb(49,132,253)">
                                    <Template Context="pointer">
                                        <h4>
                                            @pointer.Value                                          
                                        </h4>                                       
                                    </Template>
                                </RadzenArcGaugeScaleValue>
                            </RadzenArcGaugeScale>
                        </RadzenArcGauge>
                    </div>
                </div>
                         
                <!--Profole Pic-->
                <div class="col d-flex justify-content-center">
                      <img src="https://ssl.gstatic.com/onebox/media/sports/photos/ufc/2037_e8t4YA_96x96.png" class="rounded-circle" alt="...">
                </div>
            
            </div>

            <!--Bottom-->
            <div class="row align-items-end">

                <!--Info-->
                <div class="col text-center my-auto">
                  <h3>@oddsValue%</h3>
                </div>

                <div class="col text-center"> 
                    <p>
                        <!--Odds Slider-->
                      <label>
                          <!--<span class="d-block mt-3 mb-1">@oddsValue:@(InversePercent())</span>-->
                          <input @bind-value=@oddsValue type="range" class="form-range" min="0" max="100" id="oddsRange">
                      </label>                                          
                      
                      <!--Timer Progress Bar-->
                      <div class="progress">
                          <div class="progress-bar progress-bar-striped progress-bar-animated" role="progressbar" style="width: @timeValue%;" aria-valuenow="@timeValue" aria-valuemin="0" aria-valuemax="100">@(timeValue)%</div>
                      </div>                  
                    </p>
                </div>

                <!--Info-->
                <div class="col text-center my-auto">
                  <h3>@(InversePercent())%</h3>
                </div>

          </div>
        </div>

    </div>
</div>

@code {
    bool showValue = false;
    double oddsValue = 50;
    double timeValue = 50;
    double inverseValue = 0;
    IEnumerable<GaugeTickPosition> tickPositions = Enum.GetValues(typeof(GaugeTickPosition)).Cast<GaugeTickPosition>();
    GaugeTickPosition tickPosition = GaugeTickPosition.Outside;

    private double InversePercent()
    {
        return 100 - oddsValue;
    }
}

